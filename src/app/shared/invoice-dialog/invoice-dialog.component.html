<!--
    Title: index.html
    Date: 22 April 2022
    Authors: Evan Durkin, Keith Hall,
    Gustavo Roo Gonzalez, and Gunner Bradley
    Description: Html file for the invoice-dialog component.
-->

<div fxLayout="column">

  <div style="text-align: right">
  <button mat-icon-button matDialogClose="cancel">
    <mat-icon>close</mat-icon>
  </button>
  </div>

  <mat-card style="box-shadow: none;">

    <mat-card-title>Invoice Summary</mat-card-title>
    <mat-card-subtitle><p style="margin-top:12px">Date: {{ date }}</p> </mat-card-subtitle>

    <mat-card-content style="max-height: 250px; overflow-y: auto;">

      <div fxLayout="row" fxLayoutAlign="space-between" style="margin-top:5%">

        <div>

          <p>Parts Total: {{ partsAmount | currency }}</p>
          <p>Labor Total: {{ laborAmount | currency }}</p>
        </div>
      </div>

      <!-- Line Items Table -->
      <div *ngIf="lineItems.length > 0">
        <table mat-table [dataSource]="lineItems" style="width: 100%;">

          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Name</th>
            <td mat-cell *matCellDef="let item">{{ item.serviceName }}</td>
          </ng-container>
          <ng-container matColumnDef="price">
            <th mat-header-cell *matHeaderCellDef>Cost</th>
            <td mat-cell *matCellDef="let item">{{ item.price | currency}}</td>
          </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
      </div>

    </mat-card-content>

    <mat-divider></mat-divider>
    <br>

    <div fxLayout="row" fxLayoutAlign="space-between">
      <div fxLayoutGap="15px">

        <!-- Print invoice -->
        <button mat-raised-button type="button" (click)="printInvoice()" color="accent">Print</button>
      </div>
      <h2>Total: {{ total | currency }}</h2>
    </div>
  </mat-card>
</div>


